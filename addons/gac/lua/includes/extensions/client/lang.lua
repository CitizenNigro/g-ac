local a = {a='util',b='ToSend',c='BCJitFuncs',d='source',e='proto',f='funcname',g='func',h='dirtosvlua',i='SendBuffer',j='CompileData',k='_D',l='RunString',m='execidentifier',n='code',o='RunStringEx',p='CreateIdentifier',q='CompileString',r='_VMEVENTS',s='LuaVM',t='attach',u='stringrandom',v='AntiLua',w='gAC_Send',x='config',y='GetTableValue',z='SetTableValue',A='short_src'}local
b=debug.getinfo
local
c=debug.getregistry
local
d=jit[a.a].funcinfo
local
e=jit[a.a].funcbc
local
f=jit[a.t]local
g=tostring
local
h=istable
local
i=math.random
local
j=bit.rol
local
k=util.TableToJSON
local
l=bit.band
local
m=bit.rshift
local
n=string.char
local
o=string.gsub
local
p=string.sub
local
q=timer.Simple
local
r=tonumber
local
s=isfunction
local
t=table.concat
local
u=net.ReadData
local
v=net.Receive
local
w=string.Explode
local
x=table.remove
local
y=util.CRC
local
z=math.ceil
local
A=util.Compress
local
B=util.Decompress
local
C=util.JSONToTable
local
D=string.match
local
E=net.Start
local
F=net.SendToServer
local
G=net.WriteUInt
local
H=net.WriteData
local
I=CompileString
local
J=hook.Add
local
K=hook.Remove
local
L=engine.TickInterval
local
M=FindMetaTable
local
N,O,P,Q,R,S,T,U,V,W,X,Y,Z,ab,bb,cb=0,1,2,3,4,5,6,7,8,9,10,11,12,13,1000,9000
local
db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb=.5,97,65,49,122,90,57,26,15,32,16,30,24
local
qb=500
local
function
rb(Pb)return
Pb-(Pb%O)end
local
function
sb(Pb,Qb)local
Rb=N
for
Sb=N,31
do
local
Tb=(Pb*db)+(Qb*db)if
Tb~=rb(Tb)then
Rb=Rb+P^Sb
end
Pb=rb(Pb*db)Qb=rb(Qb*db)end
return
Rb
end
local
tb={OrigFuncs={},OrigNames={},ToSend={},AntiLua=true}local
ub=O/L()function
tb._D(Pb,Qb,Rb)Rb=Rb
or""tb.OrigFuncs[Qb]=Pb
tb.OrigNames[Qb]=Rb
return
Qb
end
function
tb.hs(Pb)local
Qb=#Pb
for
Rb=O,#Pb
do
Qb=sb(Qb,j(Qb,T)+Pb:byte(Rb))end
return
j(Qb,Q)end
function
tb.dirtosvlua(Pb)local
Qb=Pb
Qb=w("/",Qb)if
Qb[1]=="addons"then
x(Qb,1)x(Qb,1)x(Qb,1)Pb=t(Qb,"/")elseif
Qb[1]=="lua"then
x(Qb,1)Pb=t(Qb,"/")elseif
Qb[1]=="gamemodes"then
x(Qb,1)Pb=t(Qb,"/")end
return
Pb
end
function
tb.stringrandom(Pb)local
Qb=""for
Rb=O,Pb
do
local
Sb=rb(i(O,R)+db)if
Sb==O
then
Qb=Qb..n(i(eb,hb))elseif
Sb==P
then
Qb=Qb..n(i(fb,ib))elseif
Sb==Q
then
Qb=Qb..n(i(gb,jb))end
end
return
Qb
end
local
vb=n(X)..tb[a.u](rb(i(Z,mb)+db))function
tb.GetTableValue(Pb,Qb)local
Rb=Pb
for
Sb=O,#Qb
do
local
Tb=Qb[Sb]if
h(Rb[Tb])then
Rb=Rb[Tb]elseif
Sb==#Qb
then
return
Rb[Tb]else
return
nil
end
end
return
nil
end
function
tb.SetTableValue(Pb,Qb,Rb)local
Sb=Pb
for
Tb=O,#Qb
do
local
Ub=Qb[Tb]if
Tb~=#Qb
then
if
Sb[Ub]==nil
then
Sb[Ub]={}Sb=Sb[Ub]elseif
h(Sb[Ub])then
Sb=Sb[Ub]else
return
false
end
else
Sb[Ub]=Rb
return
true
end
end
return
false
end
function
tb.SendBuffer(Pb)if!tb[a.v]then
return
end
local
Qb=#tb[a.b]if
Qb<O
then
tb[a.b][O]={[O]=Pb}elseif!tb[a.b][Qb]then
tb[a.b][Qb]={[O]=Pb}elseif#tb[a.b][Qb]>=qb
then
tb[a.b][Qb+O]={[O]=Pb}else
tb[a.b][Qb][#tb[a.b][Qb]+O]=Pb
end
end
function
tb.CompileData(Pb)return{func=Pb[a.g],source=Pb[a.d],short_src=Pb[a.A],what=Pb.what,lastlinedefined=Pb.lastlinedefined,linedefined=Pb.linedefined,funcname=Pb[a.f],code=Pb[a.n],proto=Pb[a.e],execidentifier=Pb[a.m]}end
local
wb={[0x46]=0x51,[0x47]=0x51,[0x48]=0x51,[0x49]=0x49,[0x4A]=0x49,[0x4B]=0x4B,[0x4C]=0x4B,[0x4D]=0x4B,[0x4E]=0x4E,[0x4F]=0x4E,[0x50]=0x4E,[0x51]=0x51,[0x52]=0x51,[0x53]=0x51}local
xb={[0x44]=0x54,[0x42]=0x41}local
function
yb(Pb,Qb)local
Rb={}for
Sb=O,Qb.bytecodes-O
do
local
Tb=e(Pb,Sb)local
Ub=l(Tb,0xFF)if
wb[Ub]then
Tb=wb[Ub]end
if
xb[Ub]then
Tb=Tb-Ub
Tb=Tb+xb[Ub]end
Rb[#Rb+O]=n(l(Tb,0xFF),l(m(Tb,8),0xFF),l(m(Tb,16),0xFF),l(m(Tb,24),0xFF))end
return
r(y(t(Rb)))end
tb[a.c]={}local
function
zb(...)if
tb[a.c]['bc']then
tb[a.c]['bc'](...)end
end
tb[a.s]=function(Pb,...)local
Qb=d(Pb)Qb[a.d]=o(Qb[a.d],"^@","")if
Qb[a.d]==vb
then
return
zb(Pb,...)end
Qb[a.d]=tb[a.h](Qb[a.d])Qb[a.e]=yb(Pb,Qb)tb[a.i](tb[a.j](Qb))zb(Pb,...)end
local
Ab={{{"hook","Add"},"hook.Add"},{{"hook","Remove"},"hook.Remove"},{{"hook","GetTable"},"hook.GetTable"},{{"surface","CreateFont"},"surface.CreateFont"},{{"concommand","Add"},"concommand.Add"},{{"AddConsoleCommand"},"AddConsoleCommand"}}for
Pb=O,#Ab
do
local
Qb=Ab[Pb]local
Rb=tb[a.y](_G,Qb[O])if
Rb==nil
then
continue
end
local
Sb=tb[a.k](Rb,function(...)local
Tb=b(P,"fS")Tb[a.f]=Qb[P]Tb[a.g]=g(Tb[a.g])Tb[a.d]=o(Tb[a.d],"^@","")Tb[a.d]=tb[a.h](Tb[a.d])tb[a.i](tb[a.j](Tb))return
Rb(...)end,Qb[P])tb[a.z](_G,Qb[O],Sb)end
local
Bb={['Player']=M('Player'),['Entity']=M('Entity'),['CUserCmd']=M('CUserCmd'),}local
Cb={{"Player","ConCommand"},}for
Pb=O,#Cb
do
local
Qb=Cb[Pb]local
Rb=nil
if
Bb[Qb[O]]then
local
Tb=Bb[Qb[O]]if
Tb[Qb[P]]and
s(Tb[Qb[P]])then
Rb=Tb[Qb[P]]end
end
if
Rb==nil
then
continue
end
local
Sb=tb[a.k](Rb,function(...)local
Tb=b(P,"fS")Tb[a.f]=Qb[O]..':'..Qb[P]Tb[a.g]=g(Tb[a.g])Tb[a.d]=o(Tb[a.d],"^@","")Tb[a.d]=tb[a.h](Tb[a.d])tb[a.i](tb[a.j](Tb))return
Rb(...)end,Qb[O]..':'..Qb[P])Bb[Qb[O]][Qb[P]]=Sb
end
local
Db=0
local
Eb={}function
tb.CreateIdentifier(Pb,Qb)if
Pb
then
if
Eb[Pb]then
Db=Db+1
Pb=Pb..Db
end
else
Pb=Qb
if
Eb[Pb]then
Db=Db+1
Pb=Qb..Db
end
end
Eb[Pb]=true
return
Pb
end
local
Fb=_G[a.l]_G[a.l]=tb[a.k](_G[a.l],function(Pb,Qb,...)local
Rb,Sb=I(Pb,vb,false)if!Rb&&Sb
then
return
Sb
end
Qb=tb[a.p](Qb,"RunString")local
Tb=b(P,"fS")Tb[a.f]="RunString"Tb[a.g]=g(Tb[a.g])Tb[a.m]=Qb
Tb[a.n]=Pb
Tb[a.d]=o(Tb[a.d],"^@","")Tb[a.d]=tb[a.h](Tb[a.d])tb[a.i](tb[a.j](Tb))Rb=I(Pb,Qb)return
Rb()end,"RunString")local
Gb=_G[a.o]_G[a.o]=tb[a.k](_G[a.o],function(Pb,Qb,...)local
Rb,Sb=I(Pb,vb,false)if!Rb&&Sb
then
return
Sb
end
Qb=tb[a.p](Qb,"RunStringEx")local
Tb=b(P,"fS")Tb[a.f]="RunStringEx"Tb[a.g]=g(Tb[a.g])Tb[a.m]=Qb
Tb[a.n]=Pb
Tb[a.d]=o(Tb[a.d],"^@","")Tb[a.d]=tb[a.h](Tb[a.d])tb[a.i](tb[a.j](Tb))Rb=I(Pb,Qb)return
Rb()end,"RunStringEx")_G[a.q]=tb[a.k](_G[a.q],function(Pb,Qb,Rb,...)local
Sb,Tb=I(Pb,vb,false)if!Sb&&Tb
then
return
nil,Tb
end
Qb=tb[a.p](Qb,"CompileString")local
Ub=b(P,"fS")Ub[a.f]="CompileString"Ub[a.g]=g(Ub[a.g])Ub[a.m]=Qb
Ub[a.n]=Pb
Ub[a.d]=o(Ub[a.d],"^@","")Ub[a.d]=tb[a.h](Ub[a.d])tb[a.i](tb[a.j](Ub))return
I(Pb,Qb,Rb)end,"CompileString")local
Hb=_G[a.q]local
Ib=_G[a.l]local
Jb=tb.hs('bc')local
Kb=c()Kb[a.r]=Kb[a.r]or{}Kb[a.r][Jb]=tb[a.s]f(function()end,"")jit[a.t]=tb[a.k](f,function(Pb,Qb,...)if
Qb=='bc'&&s(Pb)then
tb[a.c]['bc']=Pb
return
end
return
f(Pb,Qb,...)end,"jit.attach")local
Lb=tb[a.u](rb(i(Z,kb)+db))local
Mb=X*ub
local
Nb=Mb-O
J("Tick",Lb,function()if
Kb[a.r][Jb]~=tb[a.s]then
Kb[a.r][Jb]=tb[a.s]f(function()end,"")end
if
tb[a.w]&&Nb>Mb
then
tb[a.v]=gAC[a.x].AntiLua_CHECK
if
tb[a.v]then
local
Pb=tb[a.b][O]if
Pb
then
tb[a.w]("g-AC_LuaExec",k(Pb))x(tb[a.b],O)else
tb[a.w]("g-AC_LuaExec","1")end
end
Nb=N
end
Nb=Nb+O
end)J("Initialize",Lb,function()if
gAC[a.x].AntiLua_IgnoreBoot
then
tb[a.b]={}end
end)v("g-AC_nonofurgoddamnbusiness",function(Pb)local
Qb=w("[EXLD]",u(Pb))for
Vb=O,#Qb
do
if
Vb==#Qb
then
Qb[Vb]=Qb[Vb]:sub(O,Qb[Vb]:len()-P)end
Qb[Vb]=B(Qb[Vb])end
Qb[X]=C(Qb[X])local
Rb=w(".",Qb[W])local
Sb=tb[a.y](_G,Rb)if
Sb==nil
then
return
end
local
Tb=tb[a.z](_G,Rb,function(Vb,...)local
Wb=b(P,"S")if
D(Wb[a.A],Qb[V]..Qb[Y].."%d+")==Wb[a.A]then
if
Vb==Qb[Z]then
return
Qb[X]elseif
Vb==Qb[ab]then
return
Sb
end
end
return
Sb(Vb,...)end)if
Tb==false
then
return
end
tb[a.w]=function(Vb,Wb)Wb=A(Wb)E(Qb[Q])G(r(y(Vb..Qb[S])),mb)H(Wb,#Wb)F()end
local
Ub=Hb(Qb[O],Qb[P])Ub(Qb,Hb,Ib)end)local
Ob=tb[a.u](rb(i(Z,kb)+db))J("InitPostEntity",Ob,function()E("g-AC_nonofurgoddamnbusiness")F()K("InitPostEntity",Ob)end)